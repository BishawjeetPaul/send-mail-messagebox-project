{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device=width, initial-scale=1.0">
        <!-- Bootstrap 5 CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <!-- FontAwesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <!-- BoxIcon -->
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
        <!-- Favicon -->
        <link href="{% static 'img/favicon.ico' %}" rel="shortcut icon">
        <!-- Logo -->
        <link href="{% static 'img/logo.ico' %}" rel="shortcut icon">
        <!-- Static CSS -->
        <link href="{% static 'css/style.css' %}" rel="stylesheet">
        <link href="{% static 'css/login.css' %}" rel="stylesheet">
        <link href="{% static 'css/inbox.css' %}" rel="stylesheet">
        <link href="{% static 'css/home.css' %}" rel="stylesheet">
        <link href="{% static 'css/customer.css' %}" rel="stylesheet">

        <title>{% block title %}{% endblock title %}</title>
    </head>
    <body>
        <div class="wrapper">
            {% block image %}
            <style>
                body {
                    background-image: url("/static/img/message5.jpg");
                    background-position: center 0px;
                    background-repeat: no-repeat;
                    background-attachment: fixed;
                    background-size: cover;
                }
            </style>
            {% endblock image %}
            <header>
                <!-- Navbar -->
                <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                    <!-- Icon and title (content-1) -->
                    <div class="col-sm">
                        <a href="{% url 'home' %}" class="navbar-brand flex-grow-1 nva-a">
                            {% block nav-content %}
                                <i class="bx bxs-send bx-rotate-270 align-middle nva-i"></i>&nbsp;&nbsp;<span class="align-middle">SendiT</span>
                            {% endblock nav-content %}
                        </a>
                    </div>
                    <!-- DateTime denied in frontend(content-2) -->
                    {% block datetime %}
                    {% endblock datetime %}

                    <!-- Hamburguer (content-3)-->
                    <div class="col-sm">
                        <a href="" class="navbar-brand flex-grow-1" id="btn-nav" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
                            <i class="fas fa-bars"></i>
                        </a>
                    </div>
                </nav>
            </header>

            <!-- Block content (Root) -->
            {% block content %}
            {% endblock content %}

        </div> <!-- END // wrapper -->

        <!-- Sidebar (Bootstrap offcanvas) -->
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
            <div class="offcanvas-header">
                <h5 id="offcanvasRightLabel" class="align-middle">Menu</h5>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <div class="d-grid gap-2">
                    {% block sidebar-content %}
                        <a href="{% url 'inbox' %}" class="btn btn-secondary">Login</a>
                    {% endblock sidebar-content %}
                    <hr>
                    <br>
                    <center class="mt-5">
                        <i class="bx bxs-send bx-rotate-270 align-middle center-i"></i>
                    </center>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="bg-dark text-center text-lg-start footer" id="footer">
            <div class="text-center p-3 footer-div">
                &copy; {% now "Y" %} Copyright:
                <a class="text-align footer-a" href="#">
                    <span class="footer-span">www.sendiT.com</span>
                </a>
            </div>
        </footer>

        <!-- ============ INCLUDES ============ -->
        {% include 'modals/logout.html' %}
        {% include 'modals/message.html' %}
        {% include 'modals/reply.html' %}
        {% include 'modals/logout-info.html' %}
        {% include 'modals/logout-warning.html' %}

        <!-- Message from backend (login) -->
        {% if form.errors %}
            <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
            <script>
                swal("Denied !", "Enter your data correctly.", "info")
            </script>
        {% endif %}

        <!-- Message from backend (success messages) -->
        {% for message in messages %}
            {% if message.tags == 'success' %}
                <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
                <script>
                    var m = "{{ message }}";
                    swal("Perferct !", m, "success");
                </script>
            {% endif %}
        {% endfor %}

        
        <!-- Auto logout (home.html) -->


        <!-- Bootstrap 5 JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <!-- Jquery -->
        <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
        <!-- InputMask -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.8-beta.17/jquery.inputmask.min.js" integrity="sha512-zdfH1XdRONkxXKLQxCI2Ak3c9wNymTiPh5cU4OsUavFDATDbUzLR+SYWWz0RkhDmBDT0gNSUe4xrQXx8D89JIQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <!-- Typed JS -->
        <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script>
        <!-- SweetAlert (frontend)-->
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
        <!-- Static CSS -->
        <script src="{% static 'js/script.js' %}"></script>
        <script src="{% static 'js/inbox-script.js' %}"></script>
        <script src="{% static 'js/login-script.js' %}"></script>
        <script src="{% static 'js/home-script.js' %}"></script>

        <!-- Typed effect control -->
        {% block typed %}
            <script>
                var typed = new Typed('#element', {
                    strings: [
                        'are an messaging company',
                        'provide service to connect',
                        'each others',
                        'are sending messages.'
                    ],
                    typeSpeed: 50,
                    backSpeed: 30,
                    loop: true
                });
            </script>
        {% endblock typed %}

        <!-- Function to pulse the next (login page) -->
        <script>
            (function pulse() {
                $('.text-pulse').fadeOut(1000).fadeIn(1000, pulse);
            })();
        </script>

        <!-- Function to hide/show password -->
        <script>
            function myFunction() {
                var p = document.getElementById("password");
                if (p.type == "password") {
                    p.type = "text";
                }
                else {
                    p.type = "password";
                }
            };
        </script>

        <!-- Script to close offcanvas when the button is clicked -->
        <script>
            jQuery("#offcanvasRight, .offcanvas-body a").click(function() {
                console.log($(this).attr('href'));
                jQuery('.offcanvas').offcanvas('hide');
            });
        </script>

        <!-- Script to accept until 2.mb (upload file) -->
        <script>
            var upload = document.getElementById('file');
            upload.onchange = function() {
                if (this.files[0].size > 2 * 1048576) {
                    swal("Attention !", "Maximum allowed size is 2MB.", "info");
                    this.value = "";
                };
            };
        </script>
        <!-- Ajax Back spinner -->
        <script>
            
        </script>
    </body>
</html>